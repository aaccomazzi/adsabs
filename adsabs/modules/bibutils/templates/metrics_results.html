{# metrics_results.html  #}
{% if include_layout == 'YES'%}
{% extends "layout.html" %}
{% block titlehead %}Metrics Results{% endblock %}
{% endif %}
{% block head %}
<script type="text/javascript" src="{{ url_for('bibutils.static', filename='js/metrics.js') }}?app_version={{ config.APP_VERSION }}"></script>
<link rel="stylesheet" href="{{ url_for('bibutils.static', filename='css/metrics.css') }}">
{% endblock %}
<script type="text/javascript">
    {% autoescape false %}
    var paperhist_data = {{results['paper histogram']}};
    var readshist_data = {{results['reads histogram']}};
    var citshist_data  = {{results['citation histogram']}};
    var series_data = {{results['metrics series']}};
    {% endautoescape %}
</script>
{% block body %}
<div id="content">
	<div id="metrics_tables" class="wrapper group_wrapper">
		<table class="metricsval">
			<tbody>
				<tr>
					<th>
					{% if results['mode'] == 'singlebibcode' %}
						Metrics for {{results['bibcode']}}
					{% else %}
						Papers
                                        {% endif %}
					</th>
					<th class="helptip">&nbsp;</th>
					<th>
					{% if results['mode'] == 'singlebibcode' %}
						&nbsp;
					{% else %}
						Totals
                                        {% endif %}
					</th>
					{% if results['mode'] == 'normal' %}
						<th>Refereed</th>
                                        {% endif %}
				</tr>
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Number of papers</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_NUMBER_OF_PAPERS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Number of papers']}}
						</td>
						<td>
							{{results['refereed stats']['Number of papers']}}
						</td>
					</tr>
                                {% endif %}
                                {% if results['mode'] == 'normal' %}
					<tr>
						<td>Normalized paper count</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_NORMALIZED_PAPER_COUNT" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Normalized paper count']}}
						</td>
						<td>
							{{results['refereed stats']['Normalized paper count']}}
						</td>
					</tr>
				{% endif %}
				<tr>
					<td>Total reads</td>
					<td class="helptip">
						[<a class="helptip_mark" id="option_TOTAL_NUMBER_OF_READS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
					</td>
					<td>
						{{results['all reads']['Total number of reads']}}
					</td>
					{% if results['mode'] == 'normal' %}
						<td>
							{{results['refereed reads']['Total number of reads']}}
						</td>
					{% endif %}
				</tr>
                                
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Average reads</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_AVERAGE_NUMBER_OF_READS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all reads']['Average number of reads']}}
						</td>
						<td>
							{{results['refereed reads']['Average number of reads']}}
						</td>
					</tr>
					<tr>
						<td>Median reads</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_MEDIAN_NUMBER_OF_READS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all reads']['Median number of reads']}}
						</td>
						<td>
							{{results['refereed reads']['Median number of reads']}}
						</td>
					</tr>
				{% endif %}
				<tr>
					<td>Total downloads</td>
					<td class="helptip">
						[<a class="helptip_mark" id="option_TOTAL_NUMBER_OF_DOWNLOADS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
					</td>
					<td>
						{{results['all reads']['Total number of downloads']}}
					</td>
					{% if results['mode'] == 'normal' %}
						<td>
							{{results['refereed reads']['Total number of downloads']}}
						</td>
					{% endif %}
				</tr>
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Average downloads</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_AVERAGE_NUMBER_OF_DOWNLOADS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all reads']['Average number of downloads']}}
						</td>
						<td>
							{{results['refereed reads']['Average number of downloads']}}
						</td>
					</tr>
					<tr>
						<td>Median downloads</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_MEDIAN_NUMBER_OF_DOWNLOADS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all reads']['Median number of downloads']}}
						</td>
						<td>
							{{results['refereed reads']['Median number of downloads']}}
						</td>
					</tr>
					{% endif %}
			</tbody>
		</table>
		<table class="metricsval">
			<tbody>
				<tr>
					<th>
					{% if results['mode'] == 'normal' %}
						Citations
					{% else %}
						Citations for {{results['bibcode']}}
                                        {% endif %}
					</th>
					<th class="helptip">&nbsp;</th>
					<th>
					{% if results['mode'] == 'normal' %}
						Total
					{% else %}
						&nbsp;
                                        {% endif %}
					</th>
					{% if results['mode'] == 'normal' %}
						<th>Refereed</th>
                                        {% endif %}
				</tr>
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Number of citing papers</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_NUMBER_OF_CITING_PAPERS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Number of citing papers']}}
						</td>
						<td>
							{{results['refereed stats']['Number of citing papers']}}
						</td>
					</tr>
				{% endif %}
				<tr>
					<td>Total citations</td>
					<td class="helptip">
						[<a class="helptip_mark" id="option_TOTAL_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
					</td>
					<td>
						{{results['all stats']['Total citations']}}
					</td>
					{% if results['mode'] == 'normal' %}
						<td>
							{{results['refereed stats']['Total citations']}}
						</td>
					{% endif %}
				</tr>
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Average citations</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_AVERAGE_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Average citations']}}
						</td>
						<td>
							{{results['refereed stats']['Average citations']}}
						</td>
					</tr>
					<tr>
						<td>Median citations</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_MEDIAN_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Median citations']}}
						</td>
						<td>
							{{results['refereed stats']['Median citations']}}
						</td>
					</tr>
					{% endif %}
				<tr>
					<td>Normalized citations</td>
					<td class="helptip">
						[<a class="helptip_mark" id="option_NORMALIZED_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
					</td>
					<td>
						{{results['all stats']['Normalized citations']}}
					</td>
					{% if results['mode'] == 'normal' %}
						<td>
							{{results['refereed stats']['Normalized citations']}}
						</td>
					{% endif %}
				</tr>
				<tr>
					<td>Refereed citations</td>
					<td class="helptip">
						[<a class="helptip_mark" id="option_REFEREED_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
					</td>
					<td>
						{{results['all stats']['Refereed citations']}}
					</td>
					{% if results['mode'] == 'normal' %}
						<td>
							{{results['refereed stats']['Refereed citations']}}
						</td>
					{% endif %}
				</tr>
				{% if results['mode'] == 'normal' %}
					<tr>
						<td>Average refereed citations</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_AVERAGE_REFEREED_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Average refereed citations']}}
						</td>
						<td>
							{{results['refereed stats']['Average refereed citations']}}
						</td>
					</tr>
					<tr>
						<td>Median refereed citations</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_MEDIAN_REFEREED_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Median refereed citations']}}
						</td>
						<td>
							{{results['refereed stats']['Median refereed citations']}}
						</td>
					</tr>
					<tr>
						<td>Normalized refereed citations</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_NORMALIZED_REFEREED_CITATIONS" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['Normalized refereed citations']}}
						</td>
						<td>
							{{results['refereed stats']['Normalized refereed citations']}}
						</td>
					</tr>
					{% endif %}
			</tbody>
		</table>
		{% if results['mode'] == 'normal' %}
			<table class="metricsval">
				<tbody>
					<tr>
						<th>Indices</th><th class="helptip">&nbsp;</th><th>Total</th><th>Refereed</th>
					</tr>
					<tr>
						<td>h-index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_H_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['H-index']}}
						</td>
						<td>
							{{results['refereed stats']['H-index']}}
						</td>
					</tr>
					<tr>
						<td>g-index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_G_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['g-index']}}
						</td>
						<td>
							{{results['refereed stats']['g-index']}}
						</td>
					</tr>
					<tr>
						<td>e-index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_E_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['e-index']}}
						</td>
						<td>
							{{results['refereed stats']['e-index']}}
						</td>
					</tr>
					<tr>
						<td>i10-index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_I10_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['i10-index']}}
						</td>
						<td>
							{{results['refereed stats']['i10-index']}}
						</td>
					</tr>
					<tr>
						<td>tori index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_TORI_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['tori index']}}
						</td>
						<td>
							{{results['refereed stats']['tori index']}}
						</td>
					</tr>
					<tr>
						<td>riq index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_ROQ_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['roq index']}}
						</td>
						<td>
							{{results['refereed stats']['roq index']}}
						</td>
					</tr>
					<tr>
						<td>m-index</td>
						<td class="helptip">
							[<a class="helptip_mark" id="option_M_INDEX" onmouseover="QtipManager.show_help(this);" onmouseout="QtipManager.hide_help();">?</a>]
						</td>
						<td>
							{{results['all stats']['m-index']}}
						</td>
						<td>
							{{results['refereed stats']['m-index']}}
						</td>
					</tr>
				</tbody>
			</table>
			{% endif %}
	</div>
</div>

{% endblock %}
